{
  "initialStepID": "welcome-message",
  "steps": [
    {
      "id": "welcome-message",
      "type": "message",
      "content": "Hi {{first_name}}! Welcome to our store. Would you like to see our new products?",
      "text": "Hi {{first_name}}! Welcome to our store. Would you like to see our new products?",
      "addImage": false,
      "sendContactCard": true,
      "discountType": "percentage",
      "discountValue": "10",
      "discountExpiry": "2024-12-31T23:59:59",
      "handled": false,
      "aiGenerated": false,
      "active": true,
      "parameters": {},
      "events": [
        {
          "id": "welcome-reply",
          "type": "reply",
          "intent": "yes",
          "description": "Customer wants to see new products",
          "nextStepID": "segment-check",
          "active": true,
          "parameters": {}
        },
        {
          "id": "welcome-noreply",
          "type": "noreply",
          "after": {
            "value": 24,
            "unit": "hours"
          },
          "nextStepID": "followup-delay",
          "active": true,
          "parameters": {}
        }
      ]
    },
    {
      "id": "segment-check",
      "type": "segment",
      "label": "VIP Customer Check",
      "conditions": [
        {
          "id": 1,
          "type": "event",
          "operator": "has",
          "action": "placed_order",
          "filter": "all orders",
          "timePeriod": "within the last 30 Days",
          "timePeriodType": "relative"
        }
      ],
      "active": true,
      "parameters": {},
      "events": [
        {
          "id": "vip-yes",
          "type": "split",
          "label": "include",
          "action": "include",
          "nextStepID": "vip-offer",
          "active": true,
          "parameters": {}
        },
        {
          "id": "vip-no",
          "type": "split",
          "label": "exclude",
          "action": "exclude",
          "nextStepID": "regular-products",
          "active": true,
          "parameters": {}
        }
      ]
    },
    {
      "id": "vip-offer",
      "type": "purchase_offer",
      "label": "VIP Special Offer",
      "messageType": "personalized",
      "messageText": "Hi {{first_name}}! As a VIP customer, here's an exclusive offer just for you:\n\n{{Cart List}}\n\nReply YES to claim your special discount!",
      "cartSource": "manual",
      "products": [
        {
          "productVariantId": "vip-123",
          "quantity": "1",
          "uniqueId": 1
        }
      ],
      "discount": true,
      "discountType": "percentage",
      "discountPercentage": "20",
      "discountExpiry": true,
      "discountExpiryDate": "2024-12-31T23:59:59",
      "includeProductImage": true,
      "skipForRecentOrders": true,
      "active": true,
      "parameters": {},
      "events": [
        {
          "id": "vip-buy",
          "type": "reply",
          "intent": "yes",
          "nextStepID": "purchase-process",
          "active": true,
          "parameters": {}
        },
        {
          "id": "vip-noreply",
          "type": "noreply",
          "after": {
            "value": 2,
            "unit": "hours"
          },
          "nextStepID": "followup-message",
          "active": true,
          "parameters": {}
        }
      ]
    },
    {
      "id": "regular-products",
      "type": "product_choice",
      "messageType": "standard",
      "messageText": "Reply to buy:\n\n{{Product List}}",
      "productSelection": "popularity",
      "productImages": true,
      "active": true,
      "parameters": {},
      "events": [
        {
          "id": "regular-buy",
          "type": "reply",
          "intent": "buy",
          "nextStepID": "purchase-process",
          "active": true,
          "parameters": {}
        }
      ]
    },
    {
      "id": "purchase-process",
      "type": "purchase",
      "cartSource": "latest",
      "discount": false,
      "customTotals": false,
      "sendReminderForNonPurchasers": true,
      "allowAutomaticPayment": false,
      "active": true,
      "parameters": {},
      "events": [
        {
          "id": "purchase-complete",
          "type": "default",
          "nextStepID": "end-node",
          "active": true,
          "parameters": {}
        }
      ]
    },
    {
      "id": "followup-delay",
      "type": "delay",
      "time": "5",
      "period": "Minutes",
      "delay": {
        "value": "5",
        "unit": "Minutes"
      },
      "active": true,
      "parameters": {},
      "events": [
        {
          "id": "followup-event",
          "type": "default",
          "nextStepID": "followup-message",
          "active": true,
          "parameters": {}
        }
      ]
    },
    {
      "id": "followup-message",
      "type": "message",
      "content": "Just leaving this with you. You might be busy. Reach out when you're ready!",
      "text": "Just leaving this with you. You might be busy. Reach out when you're ready!",
      "handled": false,
      "aiGenerated": false,
      "active": true,
      "parameters": {},
      "events": [
        {
          "id": "followup-end",
          "type": "default",
          "nextStepID": "end-node",
          "active": true,
          "parameters": {}
        }
      ]
    },
    {
      "id": "end-node",
      "type": "end",
      "label": "End",
      "active": true,
      "parameters": {},
      "events": []
    }
  ]
}